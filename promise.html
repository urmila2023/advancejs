<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <title>Promise</title>
    <script>
        // let complete = true;
        // let prom = new Promise(function(resolve, reject){
        //     if(complete){
        //         resolve("I am Successfull.");
        //     }else{
        //         reject("I am Failed.");
        //     }
        // });
        // console.log(prom);




        // function prom(complete){
        //     return new Promise(function(resolve, reject){
        // if(complete){
        //     resolve("I am Successfull.");
        // }else{
        //     reject("I am Failed.");
        // }
        // });
        // }

        // console.log(prom(true));




        // function prom(complete){
        //     return new Promise(function(resolve, reject){
        // if(complete){
        //     resolve("I am Successfull.");
        // }else{
        //     reject("I am Failed.");
        // }
        // });
        // }

        // let onfulfilment = (result) => {
        //     console.log(result);
        // }
        // let onrejection = (error) => {
        //     console.log(error);
        // }

        // prom(true).then(onfulfilment);
        // prom(true).catch(onrejection);  





        // function prom(complete){
        //     return new Promise(function(resolve, reject){
        //     console.log("Fetching data! Please Wait.");
        //     setTimeout(() => {
        //         if(complete){
        //             resolve("I am Successfull.");
        //         }else{
        //             reject("I am Failed.");
        // }
        //     }, 3000);
        // });
        // }

        // let onfulfilment = (result) => {
        //     console.log(result);
        // }
        // let onrejection = (error) => {
        //     console.log(error);
        // }

        // prom(true).then(onfulfilment).catch(onrejection);





        // function prom(complete){
        //     return new Promise(function(resolve, reject){
        //     console.log("Fetching data! Please Wait.");
        //     setTimeout(() => {
        //         if(complete){
        //             resolve("I am Successfull.");
        //         }else{
        //             reject("I am Failed.");
        // }
        //     }, 3000);
        // });
        // }

        // prom(true).then((result) => {
        //     console.log(result);}).catch( (error) => {
        //     console.log(error);
        // });




        
        // function prom(a,b){
        //     return new Promise(function(resolve, reject){
        //     console.log("Fetching data! Please Wait.");
        //     var c = a/b;
        //     setTimeout(() => {
        //         if(a,b){
        //             resolve(`Answer : ${c}`);
        //         }else{
        //             reject("Failed Division.");
        // }
        //     }, 2000);
        // });
        // }
        
        // prom(9,3).then((result) => {
        //     console.log(result);}).catch( (error) => {
        //     console.log(error);
        // });





        // function prom(){
        //     return new Promise(function(resolve, reject){
        //     console.log("Fetching data! Please Wait.");
        
        //     setTimeout(() => {
        //         $.get("https://jsonplaceholder.typicode.com/posts",function(data){
        //             resolve(data);
        //         }).fail(err =>{
        //             reject("Failed Json Loading")})
        //     }, 2000);
        // });
        // }
        
        // prom().then((result) => {
        //     console.log(result);}).catch( (error) => {
        //     console.log(error);
        // });




        //Promise all -------------------------------------------
        // let p1 = new Promise((resolve,reject) => {
        //     setTimeout(() => {
        //         console.log('The First Promise has resolved.');
        //         resolve(10);
        //     }, 1 * 1000);

        // });

        // let p2 = new Promise((resolve,reject) => {
        //     setTimeout(() => {
        //         console.log('The Second Promise has resolved.');
        //         resolve(20);
        //     }, 2 * 1000);

        // });

        // let p3 = new Promise((resolve,reject) => {
        //     setTimeout(() => {
        //         console.log('The Third Promise has resolved.');
        //         resolve(30);
        //     }, 3 * 1000);

        // });

        // Promise.all([p1,p2,p3]).then((result) => {
        //     console.log(`Results: ${result}`);
        // }).catch((error) => {
        //     console.log(`Error: ${error}`);
        // });





        // let p1 = new Promise((resolve,reject) => {
        //     setTimeout(() => {
        //         console.log('The First Promise has resolved.');
        //         resolve(10);
        //     }, 1 * 1000);

        // });

        // let p2 = new Promise((resolve,reject) => {
        //     setTimeout(() => {
        //         console.log('The Second Promise has resolved.');
        //         resolve(20);
        //     }, 2 * 1000);

        // });

        // let p3 = new Promise((resolve,reject) => {
        //     setTimeout(() => {
        //         console.log('The Third Promise has resolved.');
        //         resolve(30);
        //     }, 3 * 1000);

        // });
        // var total= 0;
        // Promise.all([p1,p2,p3]).then((result) => {
        //     for(var i in result){
        //         total += result[i];
        //     }
        //     console.log(`Results: ${result}`);
        //     console.log(`Total: ${total}`);
        // }).catch((error) => {
        //     console.log(`Error: ${error}`);
        // });




        // let p1 = new Promise((resolve,reject) => {
        //     setTimeout(() => {
        //         console.log('The First Promise has resolved.');
        //         resolve(10);
        //     }, 1 * 1000);

        // });

        // let p2 = new Promise((resolve,reject) => {
        //     setTimeout(() => {
        //         console.log('The Second Promise have not resolved.');
        //         reject("failed");
        //     }, 2 * 1000);

        // });

        // let p3 = new Promise((resolve,reject) => {
        //     setTimeout(() => {
        //         console.log('The Third Promise has resolved.');
        //         resolve(30);
        //     }, 3 * 1000);

        // });
        // var total= 0;
        // Promise.all([p1,p2,p3]).then((result) => {
        //     for(var i in result){
        //         total += result[i];
        //     }
        //     console.log(`Results: ${result}`);
        //     console.log(`Total: ${total}`);
        // }).catch((error) => {
        //     console.log(`Error: ${error}`);
        // });




        

        let promisecall = function(returndata, message)  {
            return function(resolve,reject){
                setTimeout(() => {
                console.log(`The ${message} promise has resolved`);
                resolve(returndata);
            }, returndata * 100);
            }

        };
        let p1 = new Promise(promisecall(10,"First"));
        let p2 = new Promise(promisecall(20,"Second"));
        let p3 = new Promise(promisecall(30,"Third"));
        let p4 = new Promise(function(resolve, reject){
            reject("The 4th promise has rejected.")
        });

        
        var total= 0;
        Promise.all([p1,p2,p3,p4]).then((result) => {
            for(var i in result){
                total += result[i];
            }
            console.log(`Results: ${result}`);
            console.log(`Total: ${total}`);
        }).catch((error) => {
            console.log(`Error: ${error}`);
        });

    </script>
</head>
<body>
    
</body>
</html>